# spring-orm

## Задание:

С работой ядра Спринг мы разобрались, теперь самое время подключить к нему пару модулей для комфортной работы.
Начнем с ORM.
Для работы с hibernate нам понадобится зависимость{{ hibernate-core}}, корректным взаимодействием со Спрингом озаботится
зависимость spring-orm.
Как вы можете видеть, зависимость spring-core пропала, это произошло из-за того, что она является транзитной для всех
модулей Спринга и дублировать ее смысла нет.
У нас появились пакеты model, service, теперь сервисы и DAO объявлены бинами с помощью аннотаций @Repository и @Service.
В методе main будет происходить тестирование работоспособности нашего приложения. Класс Car аннотирован как стандартная
сущность hibernate. В AppConfig теперь присутствует базовая настройка hibernate, берущая данные из файла db.properties.
Обратите внимание, что для ее работы используется аннотация @PropertySource("classpath:db.properties"), обращающаяся к
папке ресурсов.
На этом настройка приложения окончена.

1. Создайте соединение к своей базе данных и схему. Запустите приложение. Проверьте, что оно полностью работает.
2. Создайте сущность Car с полями String model и int series, на которую будет ссылаться User с помощью связи one-to-one.
3. Добавьте этот класс в настройки hibernate.
4. Создайте несколько пользователей с машинами, добавьте их в базу данных, вытащите обратно.
5. В сервис добавьте метод, который с помощью hql-запроса будет доставать юзера, владеющего машиной по ее модели и
   серии.

## Вывод:

```text
Id = 1
First Name = User1
Last Name = Lastname1
Email = user1@mail.ru

Id = 2
First Name = User2
Last Name = Lastname2
Email = user2@mail.ru

Id = 3
First Name = User3
Last Name = Lastname3
Email = user3@mail.ru

Id = 4
First Name = User4
Last Name = Lastname4
Email = user4@mail.ru

User(id=2, firstName=User2, lastName=Lastname2, email=user2@mail.ru, car=hiber.model.Car@4dadd690)
```